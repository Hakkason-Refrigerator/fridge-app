# 冷蔵庫管理アプリ「Fridge App」企画書

## プロジェクト概要
食材の期限管理と消費促進を目的とした冷蔵庫管理アプリケーション

## 実装済み機能一覧

### 1. 基本的な食材管理機能
- ✅ **食材登録**: 名前、期限日、登録日、備考の入力
- ✅ **食材一覧表示**: 期限順での表示
- ✅ **食材詳細表示**: 個別の食材情報詳細画面
- ✅ **食材編集**: 名前、期限日、登録日の編集機能
- ✅ **食材削除**: 「食べた！」ボタンによる消費記録

### 2. 期限管理・視覚的警告システム
- ✅ **期限ステータス判定**: 5段階の期限状態（fresh/good/warning/critical/expired）
- ✅ **色分け表示**: 期限状況に応じたカードヘッダーの背景色変化
  - 🟦 新鮮（7日以上）: 青色
  - 🟢 良好（4-7日）: 緑色  
  - 🟡 注意（2-3日）: 黄色
  - 🟠 危険（明日期限）: オレンジ色
  - 🔴 期限切れ: 赤色
- ✅ **期限メッセージ**: 残り日数の表示と警告文

### 3. レシピ連携機能
- ✅ **外部レシピサイト連携**: 食材名から自動でレシピ検索
  - Cookpad検索リンク
  - Kurashiru検索リンク  
  - 楽天レシピ検索リンク
- ✅ **ワンタップアクセス**: 詳細画面から直接レシピサイトへ

### 4. データベース・状態管理
- ✅ **Supabase統合**: PostgreSQLデータベースでの永続化
- ✅ **Zustand状態管理**: グローバル状態でのデータ管理
- ✅ **CRUD操作**: 完全な作成・読取・更新・削除機能
- ✅ **データ変換**: キャメルケース↔スネークケースの自動変換

### 5. ユーザーインターフェース
- ✅ **カード形式表示**: 見やすい食材カードレイアウト
- ✅ **レスポンシブデザイン**: React Native による最適化
- ✅ **直感的操作**: タップによる詳細表示・編集

## 企画変更点・今後の実装計画

### 1. コメント機能の仕様変更
**現在の仕様:**
- 食材カードのコメント欄に「食材からのつぶやき」を表示
- 新規追加時はユーザー自身がコメント入力

**新仕様:**
- **備考機能**: コメント欄を「食材の備考」として活用（保存先、調理方法など）
- **マスコット機能**: 感情的なコメントは画面左下のマスコットが発言

### 2. マスコット機能（新機能）
- **配置**: 画面左下に常駐するマスコットキャラクター
- **発言内容**:
  - 期限切れ間近の食材リストアップ
  - 期限管理のアドバイス
  - 食材消費の促進メッセージ
  - アプリ利用のヒント
- **発言タイミング**:
  - アプリ起動時
  - 新しい食材登録時
  - 期限切れ食材発見時
  - 長期間アクセスなし時

### 3. 備考機能の強化
- **利用例**:
  - 「冷凍庫2段目」（保存場所）
  - 「サラダ用」（用途）
  - 「開封済み」（状態）
  - 「特売品」（購入情報）

## 技術スタック

### フロントエンド
- **React Native**: モバイルアプリフレームワーク
- **Expo SDK 53.0.20**: 開発・デプロイ環境
- **TypeScript**: 型安全な開発
- **expo-router**: ファイルベースルーティング

### バックエンド・データベース
- **Supabase**: PostgreSQL + 認証 + API
- **Zustand**: クライアント状態管理

### 開発・デプロイ
- **Git**: バージョン管理
- **GitHub**: リポジトリ管理・協業
- **VS Code**: 統合開発環境

## ファイル構成
```
app/
├── _layout.tsx        # アプリ全体のレイアウト
├── index.tsx          # メイン画面（食材一覧）
├── [id].tsx          # 食材詳細・編集画面
└── register.tsx       # 新規食材登録画面

components/
├── FoodCard.tsx       # 食材カードコンポーネント
├── Header.tsx         # ヘッダーコンポーネント
└── ChatBubble.tsx     # チャット吹き出しコンポーネント

store/
└── foodStore.ts       # Zustand状態管理

types/
└── food.ts           # 食材データ型定義

utils/
├── expiryUtils.ts    # 期限判定ロジック
├── dateUtils.ts      # 日付処理ユーティリティ
└── messageGenerator.ts # メッセージ生成ロジック

lib/
└── supabase.ts       # Supabaseクライアント設定
```

## データベーススキーマ
```sql
foods テーブル:
- id (UUID, Primary Key)
- name (TEXT) - 食材名
- comment (TEXT) - 備考（新仕様では保存場所・用途など）
- expiry_date (DATE) - 期限日
- registered_date (TIMESTAMP) - 登録日時
- is_consumed (BOOLEAN) - 消費済みフラグ
```

## 次期開発フェーズ

### Phase 1: マスコット機能実装
1. マスコットコンポーネント作成
2. 期限監視ロジック実装
3. メッセージ生成システム
4. 表示タイミング制御

### Phase 2: 備考機能強化
1. 備考入力UI改善
2. 備考テンプレート機能
3. 検索・フィルタ機能

### Phase 3: 追加機能
1. 通知機能（期限切れアラート）
2. 統計・分析機能
3. 買い物リスト機能
4. 食材カテゴリ分類

## プロジェクト成果
- **完全なCRUD操作**: データベース連携による永続化
- **直感的なUI**: 期限状況の視覚的表現
- **実用的な機能**: レシピ連携による食材活用促進
- **拡張可能な設計**: マスコット機能追加に向けた基盤構築

## 協業体制
- **フロントエンド開発**: メイン担当者
- **バックエンド・DB**: 協力者によるSupabase統合完了
- **Git管理**: ブランチベース開発（branch-foodcard → main）

---

*企画書作成日: 2025年8月2日*
*現在のブランチ: branch-foodcard*
*次回マージ予定: main branch via Pull Request*
